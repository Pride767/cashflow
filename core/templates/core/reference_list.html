{% extends 'core/base.html' %}
{% block content %}
    <h2>Управление справочниками</h2>
    <a href="{% url 'record_list' %}" class="btn btn-secondary mb-3">Назад к записям</a>

    <h3>Статусы</h3>
    <a href="{% url 'status_add' %}" class="btn btn-primary mb-2">Добавить статус</a>
    <table class="table table-striped">
        <thead><tr><th>Название</th><th>Действия</th></tr></thead>
        <tbody>
            {% for status in statuses %}
                <tr>
                    <td>{{ status.name }}</td>
                    <td>
                        <a href="{% url 'status_edit' status.pk %}" class="btn btn-sm btn-warning">Редактировать</a>
                        <a href="{% url 'status_delete' status.pk %}" class="btn btn-sm btn-danger">Удалить</a>
                    </td>
                </tr>
            {% empty %}
                <tr><td colspan="2">Статусов нет</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Типы</h3>
    <a href="{% url 'type_add' %}" class="btn btn-primary mb-2">Добавить тип</a>
    <table class="table table-striped">
        <thead><tr><th>Название</th><th>Действия</th></tr></thead>
        <tbody>
            {% for type in types %}
                <tr>
                    <td>{{ type.name }}</td>
                    <td>
                        <a href="{% url 'type_edit' type.pk %}" class="btn btn-sm btn-warning">Редактировать</a>
                        <a href="{% url 'type_delete' type.pk %}" class="btn btn-sm btn-danger">Удалить</a>
                    </td>
                </tr>
            {% empty %}
                <tr><td colspan="2">Типов нет</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Категории</h3>
    <a href="{% url 'category_add' %}" class="btn btn-primary mb-2">Добавить категорию</a>
    <table class="table table-striped">
        <thead><tr><th>Название</th><th>Тип</th><th>Действия</th></tr></thead>
        <tbody>
            {% for category in categories %}
                <tr>
                    <td>{{ category.name }}</td>
                    <td>{{ category.transaction_type }}</td>
                    <td>
                        <a href="{% url 'category_edit' category.pk %}" class="btn btn-sm btn-warning">Редактировать</a>
                        <a href="{% url 'category_delete' category.pk %}" class="btn btn-sm btn-danger">Удалить</a>
                    </td>
                </tr>
            {% empty %}
                <tr><td colspan="3">Категорий нет</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Подкатегории</h3>
    <a href="{% url 'subcategory_add' %}" class="btn btn-primary mb-2">Добавить подкатегорию</a>
    <table class="table table-striped">
        <thead><tr><th>Название</th><th>Категория</th><th>Действия</th></tr></thead>
        <tbody>
            {% for subcategory in subcategories %}
                <tr>
                    <td>{{ subcategory.name }}</td>
                    <td>{{ subcategory.category }}</td>
                    <td>
                        <a href="{% url 'subcategory_edit' subcategory.pk %}" class="btn btn-sm btn-warning">Редактировать</a>
                        <a href="{% url 'subcategory_delete' subcategory.pk %}" class="btn btn-sm btn-danger">Удалить</a>
                    </td>
                </tr>
            {% empty %}
                <tr><td colspan="3">Подкатегорий нет</td></tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}